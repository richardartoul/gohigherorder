# gohigherorder

## Inspiration
I mainly built this tool as a simple exercise in learning code generation.

Inspiration from this blog post: http://www.onebigfluke.com/2014/12/generic-programming-go-generate.html

## Installation
`go get https://github.com/richardartoul/gohigherorder`

## Usage
Annotate any named slice types with a coment in the form of //gohigherorder and
then run the gohigherorder command with the filepath as the first argument.

```golang
// main.go
package main

type User struct {
	Name string
}

//gohigherorder
type UserSlice []User
```

Ex.: gohigherorder main.go > main_higherorder.go

Will generate a new file with the same package name that looks like this:

```
// generated by gohigherorder -- DO NOT EDIT
package main

// Map maps a slice of UserSlice to a slice of UserSlice
func (items UserSlice) Map(f func(User) User) UserSlice {
	mapped := []User{}
	for _, item := range items {
		mapped = append(mapped, f(item))
	}
	return mapped
}

// Filter filters a slice of UserSlice to a slice of UserSlice where f(User) is true
func (items UserSlice) Filter(f func(User) bool) UserSlice {
	filtered := []User{}
	for _, item := range items {
		if f(item) {
			filtered = append(filtered, item)
		}
	}
	return filtered
}
```

## Development / Testing

1) Clone the repo
2) Run `go build gohigherorder`
3) Run `./gohigherorder gohigherorder_test.go`
4) Run `go test gohigherorder`
